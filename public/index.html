<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Amanda's Pet Services</title>
    <link rel="preload" href="img.jpg" as="image">
    <link rel="stylesheet" href="styles.css">
    <script src="marq.js" defer></script>
    <script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>
    <script defer> 
    // Simplified functionality for Calendly integration
    const initializePage = () => {
      // Calendly handles scheduling, no custom calendar logic needed
      console.log('Calendly integration loaded');
      
      // Optional: Add any custom tracking or analytics here
      window.addEventListener('message', function(e) {
        if (e.data.event && e.data.event.indexOf('calendly') === 0) {
          console.log('Calendly event:', e.data.event);
        }
      });
    };
    
    // Initialize when DOM is ready
    document.readyState === 'loading' ? 
      document.addEventListener('DOMContentLoaded', initializePage) : 
      initializePage();

    // Accordion callout positioning - top anchored to calendar, bottom to screen
    const setupCallout = () => {
      const callout = document.querySelector('.callout');
      const calendlyContainer = document.querySelector('.calendly-container');
      
      if (!callout || !calendlyContainer) return;
      
      const updateCallout = () => {
        // Use requestAnimationFrame for smooth, immediate updates
        requestAnimationFrame(() => {
          // Get calendar and window dimensions
          const calendlyRect = calendlyContainer.getBoundingClientRect();
          const windowHeight = window.innerHeight;
          
          // Always use fixed positioning for accordion effect
          callout.style.position = 'fixed';
          callout.style.right = '20px';
          callout.style.width = '300px';
          
          // Top anchor: align with calendar top (but keep in viewport)
          const topPosition = Math.max(calendlyRect.top, 20);
          callout.style.top = topPosition + 'px';
          
          // Bottom anchor: align with bottom of screen
          const bottomMargin = 20;
          const availableHeight = windowHeight - topPosition - bottomMargin;
          
          // Set height to fill from calendar top to screen bottom
          if (availableHeight > 100) { // Minimum height check
            callout.style.height = availableHeight + 'px';
            callout.style.bottom = 'auto';
          } else {
            // If too small, position at bottom with auto height
            callout.style.height = 'auto';
            callout.style.bottom = bottomMargin + 'px';
            callout.style.top = 'auto';
          }
        });
      };
      
      // Initial setup - no delay for immediate response
      updateCallout();
      
      // Update on scroll and resize for real-time accordion effect
      window.addEventListener('scroll', updateCallout, { passive: true });
      window.addEventListener('resize', updateCallout, { passive: true });
    };
    
    // Initialize callout after DOM is ready
    document.readyState === 'loading' ? 
      document.addEventListener('DOMContentLoaded', setupCallout) : 
      setupCallout();
</script>

</head>

<body>
  <!-- Callout positioned for optimal visibility -->
  <div class="callout">
    <div class="callout-header">First Visit?</div>
    <span class="closebtn" onclick="this.parentElement.style.display='none';">Ã—</span>
    <div class="callout-container">
      <p>Book an introduction! <a href="https://calendly.com/lmansf96/30min?primary_color=63dd61" target="_blank">Schedule now</a> and see if Amanda's services are right for you.</p>
    </div>
  </div>

  <header>
    <h1 style="text-align:center;">Amanda's Pet Sitting & Dog Walking Services</h1>
</header>
<ul class="topnav">
  <li><a href="index.html">Home</a></li>
  <li><a href="Contact.html">Contact</a></li>
  <li><a href="Offerings.html">Offerings</a></li>
</ul>
    <main>
      <div>
        <h2 style="text-align:center;">Bookings are Available!</h2>
      </div>
        
        <!-- Calendly Booking Widget -->
<div class="calendly-container">
  <div class="calendly-inline-widget" 
       data-url="https://calendly.com/lmansf96/30min?primary_color=63dd61" 
       style="min-width:100%;height:700px;border-radius:15px;overflow:hidden;max-width:1200px;margin:0 auto;">
  </div>
</div>
    </main>
  </body>
<footer>
 <section class="enable-animation">

  <div class="marquee marquee--fit-content">
    <ul class="marquee__content">
      <li><span style="color: yellow">Gina says:</span> "My <span style="color: purple"><strong>dog</strong></span> absolutely loves her. She comes every week and it makes me feel better when I'm traveling to know my baby <span style="color: purple"><strong>peejay</strong></span> is in safe hands with a professional."</li>
      <li><span style="color: yellow">Jessica says:</span> "I won't leave my babies with anyone else! My little <span style="color: purple"><strong>cats</strong></span> need the attention of a pro."</li>
      <li><span style="color: yellow"><strong>Logan</strong> says:</span> "<span style="color: purple"><strong>Toffee</strong></span> is an angel, but having my mom, uh, a professional, makes me feel like our cat will do no harm while we're out of town."</li>
    </ul>
    <ul aria-hidden="true" class="marquee__content">
      <li><span style="color: yellow">Gina says:</span> "My <span style="color: purple"><strong>dog</strong></span> absolutely loves her. She comes every week and it makes me feel better when I'm traveling to know my baby <span style="color: purple"><strong>peejay</strong></span> is in safe hands with a professional."</li>
      <li><span style="color: yellow">Jessica says:</span> "I won't leave my babies with anyone else! My little <span style="color: purple"><strong>cats</strong></span> need the attention of a pro."</li>
      <li><span style="color: yellow"><strong>Logan</strong> says:</span> "<span style="color: purple"><strong>Toffee</strong></span> is an angel, but having my mom, uh, a professional, makes me feel like our cat will do no harm while we're out of town."</li>
    </ul>
  </div>
</section> 
  
</footer>
</html>